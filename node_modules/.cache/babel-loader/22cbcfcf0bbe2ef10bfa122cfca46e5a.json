{"ast":null,"code":"import _slicedToArray from\"/Users/neoscape/agree_form/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from'react';import CanvasDraw from\"react-canvas-draw\";import'./Agree.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Agree=function Agree(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),birthday=_useState4[0],setBirthday=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),phonenum=_useState6[0],setPhonenum=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),dong=_useState8[0],setDong=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),hosu=_useState10[0],setHosu=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),nickname=_useState12[0],setNickname=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),email=_useState14[0],setEmail=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),imgURL2=_useState16[0],setImgURL2=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),imgURL3=_useState18[0],setImgURL3=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),linkFlag=_useState20[0],setlinkFlag=_useState20[1];var canvasDrawRef=useRef();var canvasRef2=useRef();var canvasRef3=useRef();var onChangeUsername=function onChangeUsername(e){e.preventDefault();setUsername(e.currentTarget.value);};var onChangeBirthday=function onChangeBirthday(e){e.preventDefault();setBirthday(e.currentTarget.value);};var onChangePhonenum=function onChangePhonenum(e){e.preventDefault();setPhonenum(e.currentTarget.value);};var onChangeDong=function onChangeDong(e){e.preventDefault();setDong(e.currentTarget.value);};var onChangeHosu=function onChangeHosu(e){e.preventDefault();setHosu(e.currentTarget.value);};var onChangeNickname=function onChangeNickname(e){e.preventDefault();setNickname(e.currentTarget.value);};var onChangeEmail=function onChangeEmail(e){e.preventDefault();setEmail(e.currentTarget.value);};useEffect(function(){var ctx2=canvasRef2.current.getContext(\"2d\");console.log(\"got agree2.png\");var image1=new Image();image1.src=\"https://labienhaut.github.io/agree_form/agree2.png\";image1.crossOrigin='Anonymous';image1.onload=function(){ctx2.drawImage(image1,0,0);};var ctx3=canvasRef3.current.getContext(\"2d\");console.log(\"got agree1.png\");var image2=new Image();image2.src=\"https://labienhaut.github.io/agree_form/agree1.png\";image2.crossOrigin='Anonymous';image2.onload=function(){ctx3.drawImage(image2,0,0);};},[]);useEffect(function(){console.log(username);},[username]);useEffect(function(){var downloadBtnRef=document.getElementById(\"agree_down1\");downloadBtnRef.href=imgURL2;//let imgRef = document.getElementById(\"agree_img\")\n//imgRef.src = imgURL2\n},[imgURL2]);useEffect(function(){var downloadBtnRef2=document.getElementById(\"agree_down2\");downloadBtnRef2.href=imgURL3;},[imgURL3]);var handleSave=function handleSave(){//console.log(\"handleSave start\")\nvar ctx2=canvasRef2.current.getContext(\"2d\");var ctx3=canvasRef3.current.getContext(\"2d\");var imageURL=canvasDrawRef.current.canvasContainer.childNodes[1].toDataURL(\"image/png\");var image2=new Image();image2.src=imageURL;image2.onload=function(){ctx2.drawImage(image2,880,1205);ctx2.font='24px serif';ctx2.fillText(username,844,1272);ctx2.fillText(username,185,684);ctx2.font='14px serif';ctx2.fillText(birthday,313,680);ctx2.font='24px serif';ctx2.fillText(dong,461,684);ctx2.fillText(hosu,573,684);ctx2.font='14px serif';ctx2.fillText(phonenum,680,682);ctx2.fillText(nickname,853,661);ctx2.fillText(email,853,691);var today=new Date();ctx2.font='24px serif';var mm=today.getMonth()+1;var dd=today.getDate();ctx2.fillText(mm,872,1230);ctx2.fillText(dd,954,1230);/////////////////////////////////////////////////\nctx3.drawImage(image2,858,1358);ctx3.font='24px serif';ctx3.fillText(username,803,1461);ctx3.fillText(username,180,410);ctx3.font='14px serif';ctx3.fillText(birthday,313,405);ctx3.font='24px serif';ctx3.fillText(dong,461,410);ctx3.fillText(hosu,573,410);ctx3.font='16px serif';ctx3.fillText(phonenum,681,405);ctx3.font='bold 15px serif';ctx3.fillText(nickname,848,395);ctx3.fillText(email,848,415);ctx3.font='bold 22px serif';ctx3.fillText('✓',713,1313);ctx3.font='24px serif';ctx3.fillText(mm,895,1427);ctx3.fillText(dd,967,1427);var urlStr2=ctx2.canvas.toDataURL(\"image/png\");setImgURL2(urlStr2);var urlStr3=ctx3.canvas.toDataURL(\"image/png\");setImgURL3(urlStr3);};setlinkFlag(true);//console.log(\"linkFlag :\")\n//console.log(linkFlag)\n//console.log(\"handleSave end\")\n};return/*#__PURE__*/_jsxs(\"div\",{align:\"a_bg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"a_content\",children:[/*#__PURE__*/_jsxs(\"h2\",{align:\"center\",style:{marginTop:\"10px\"},children:[\"\\uACFC\\uCC9C \\uD478\\uB974\\uC9C0\\uC624 \\uB77C\\uBE44\\uC5D4\\uC624 \",/*#__PURE__*/_jsx(\"br\",{}),\" \\uC785\\uC8FC\\uC608\\uC815\\uC790 \\uD611\\uC758\\uD68C \",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB3D9\\uC758\\uC11C \\uBC0F \\uC704\\uC784\\uC7A5 \\uC791\\uC131\"]}),\"\\uC774\\uB984 : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"\\uC774\\uB984\",onChange:onChangeUsername}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uC0DD\\uB144\\uC6D4\\uC77C : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"birthday\",placeholder:\"\\uC0DD\\uB144/\\uC6D4/\\uC77C\",onChange:onChangeBirthday,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\"\\xA0 \\xA0 \\uB3D9 : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"dong\",placeholder:\"\\uB3D9\",onChange:onChangeDong,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uD638\\uC218 : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"hosu\",placeholder:\"\\uD638\\uC218\",onChange:onChangeHosu,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uC804\\uD654\\uBC88\\uD638 : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phonenum\",placeholder:\"\\uC804\\uD654\\uBC88\\uD638\",onChange:onChangePhonenum,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uCE74\\uD398 \\uB2C9\\uB124\\uC784 : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nickname\",placeholder:\"\\uCE74\\uD398 \\uB2C9\\uB124\\uC784\",onChange:onChangeNickname,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C : \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C\",onChange:onChangeEmail,style:{marginTop:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{align:\"center\",style:{marginTop:\"15px\"},children:[\"\\uC11C\\uBA85 : \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:\"315px\",height:\"150px\",border:\"1px solid #272727\"},children:[/*#__PURE__*/_jsx(CanvasDraw,{ref:canvasDrawRef,hideInterface:true,hideGrid:true,background:\"none\",brushColor:\"#000000\",brushRadius:1,lazyRadius:2,canvasWidth:315,canvasHeight:150}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,style:{marginTop:\"3px\"},children:\"\\uC644\\uB8CC\"}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){canvasDrawRef.current.clear();},style:{marginTop:\"3px\"},children:\"\\uC0AD\\uC81C\"}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){canvasDrawRef.current.undo();},style:{marginTop:\"3px\"},children:\"Undo\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{align:\"center\",style:{display:linkFlag===true?'block':'none'},children:[/*#__PURE__*/_jsx(\"a\",{href:\"\",id:\"agree_down1\",download:\"\\uB3D9\\uC758\\uC11C.png\",children:\" \\uB3D9\\uC758\\uC11C \\uB2E4\\uC6B4\\uB85C\\uB4DC \"}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(\"a\",{href:\"\",id:\"agree_down2\",download:\"\\uC704\\uC784\\uC7A5.png\",children:\" \\uC704\\uC784\\uC7A5 \\uB2E4\\uC6B4\\uB85C\\uB4DC \"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{width:\"315px\",height:\"100px\"}),\"\\uC81C\\uACF5 : \\uC544\\uCE68\\uD5A5\\uAE30, ver 0.0.2\"]}),\" \"]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef2,width:1200,height:1694,style:{display:'none'}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef3,width:1200,height:1694,style:{display:'none'}})]});};export default Agree;","map":{"version":3,"sources":["/Users/neoscape/agree_form/src/Agree.js"],"names":["React","useRef","useState","useEffect","CanvasDraw","Agree","username","setUsername","birthday","setBirthday","phonenum","setPhonenum","dong","setDong","hosu","setHosu","nickname","setNickname","email","setEmail","imgURL2","setImgURL2","imgURL3","setImgURL3","linkFlag","setlinkFlag","canvasDrawRef","canvasRef2","canvasRef3","onChangeUsername","e","preventDefault","currentTarget","value","onChangeBirthday","onChangePhonenum","onChangeDong","onChangeHosu","onChangeNickname","onChangeEmail","ctx2","current","getContext","console","log","image1","Image","src","crossOrigin","onload","drawImage","ctx3","image2","downloadBtnRef","document","getElementById","href","downloadBtnRef2","handleSave","imageURL","canvasContainer","childNodes","toDataURL","font","fillText","today","Date","mm","getMonth","dd","getDate","urlStr2","canvas","urlStr3","marginTop","width","height","border","clear","undo","display"],"mappings":"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","sourcesContent":["import React, {useRef, useState, useEffect} from 'react';\nimport CanvasDraw from \"react-canvas-draw\";\nimport './Agree.css';\n\nconst Agree = () => {\n\n    const [username, setUsername] = useState('')\n    const [birthday, setBirthday] = useState('')\n    const [phonenum, setPhonenum] = useState('')\n    const [dong, setDong] = useState('')\n    const [hosu, setHosu] = useState('')\n    const [nickname, setNickname] = useState('')\n    const [email, setEmail] = useState('')\n    const [imgURL2, setImgURL2] = useState('')\n    const [imgURL3, setImgURL3] = useState('')\n    const [linkFlag, setlinkFlag] = useState(false)\n\n    const canvasDrawRef = useRef();\n    const canvasRef2 = useRef();\n    const canvasRef3 = useRef();\n\n    const onChangeUsername = e => {\n        e.preventDefault();\n        setUsername(e.currentTarget.value)\n    }\n\n    const onChangeBirthday = e => {\n        e.preventDefault();\n        setBirthday(e.currentTarget.value)\n    }\n\n    const onChangePhonenum = e => {\n        e.preventDefault();\n        setPhonenum(e.currentTarget.value)\n    }\n\n    const onChangeDong = e => {\n        e.preventDefault();\n        setDong(e.currentTarget.value)\n    }\n\n    const onChangeHosu = e => {\n        e.preventDefault();\n        setHosu(e.currentTarget.value)\n    }\n\n    const onChangeNickname = e => {\n        e.preventDefault();\n        setNickname(e.currentTarget.value)\n    }\n\n    const onChangeEmail = e => {\n        e.preventDefault();\n        setEmail(e.currentTarget.value)\n    }\n\n    useEffect(() => {\n        let ctx2 = canvasRef2.current.getContext(\"2d\")\n\n        console.log(\"got agree2.png\")\n        const image1 = new Image();\n        image1.src = \"https://labienhaut.github.io/agree_form/agree2.png\";\n        image1.crossOrigin = 'Anonymous';\n        image1.onload = () => {\n            ctx2.drawImage(image1, 0, 0);\n        };\n\n        let ctx3 = canvasRef3.current.getContext(\"2d\")\n\n        console.log(\"got agree1.png\")\n        const image2 = new Image();\n        image2.src = \"https://labienhaut.github.io/agree_form/agree1.png\";\n        image2.crossOrigin = 'Anonymous';\n        image2.onload = () => {\n            ctx3.drawImage(image2, 0, 0);\n        };\n        \n    }, []);\n\n    useEffect(() => {\n        console.log(username)\n    }, [username]);\n\n    useEffect(() => {\n        let downloadBtnRef = document.getElementById(\"agree_down1\")\n        downloadBtnRef.href = imgURL2\n\n        //let imgRef = document.getElementById(\"agree_img\")\n        //imgRef.src = imgURL2\n    }, [imgURL2])\n\n    useEffect(() => {\n        let downloadBtnRef2 = document.getElementById(\"agree_down2\")\n        downloadBtnRef2.href = imgURL3\n\n    }, [imgURL3])\n\n    const handleSave = () => {\n        //console.log(\"handleSave start\")\n\n        let ctx2 = canvasRef2.current.getContext(\"2d\")\n        let ctx3 = canvasRef3.current.getContext(\"2d\")\n\n        let imageURL = canvasDrawRef.current.canvasContainer.childNodes[1].toDataURL(\"image/png\")\n\n        const image2 = new Image();\n        image2.src = imageURL\n        image2.onload = () => {\n            ctx2.drawImage(image2, 880, 1205);\n\n            ctx2.font = '24px serif';\n            ctx2.fillText(username, 844, 1272);\n            ctx2.fillText(username, 185, 684);\n\n            ctx2.font = '14px serif';\n            ctx2.fillText(birthday, 313, 680);\n\n            ctx2.font = '24px serif';\n            ctx2.fillText(dong, 461, 684);\n            ctx2.fillText(hosu, 573, 684);\n\n            ctx2.font = '14px serif';\n            ctx2.fillText(phonenum, 680, 682);\n            ctx2.fillText(nickname, 853, 661);\n            ctx2.fillText(email, 853, 691);\n\n            const today = new Date();\n\n            ctx2.font = '24px serif';\n\n            const mm = today.getMonth() + 1\n            const dd = today.getDate()\n            ctx2.fillText(mm, 872, 1230);\n            ctx2.fillText(dd, 954, 1230);\n\n            /////////////////////////////////////////////////\n\n            ctx3.drawImage(image2, 858, 1358);\n\n            ctx3.font = '24px serif';\n            ctx3.fillText(username, 803, 1461);\n            ctx3.fillText(username, 180, 410);\n\n            ctx3.font = '14px serif';\n            ctx3.fillText(birthday, 313, 405);\n\n            ctx3.font = '24px serif';\n            ctx3.fillText(dong, 461, 410);\n            ctx3.fillText(hosu, 573, 410);\n\n            ctx3.font = '16px serif';\n            ctx3.fillText(phonenum, 681, 405);\n\n            ctx3.font = 'bold 15px serif';\n            ctx3.fillText(nickname, 848, 395);\n            ctx3.fillText(email, 848, 415);\n\n            ctx3.font = 'bold 22px serif';\n            ctx3.fillText('✓', 713, 1313);\n\n            ctx3.font = '24px serif';\n            ctx3.fillText(mm, 895, 1427);\n            ctx3.fillText(dd, 967, 1427);\n\n            const urlStr2 = ctx2.canvas.toDataURL(\"image/png\")\n            setImgURL2(urlStr2);\n\n            const urlStr3 = ctx3.canvas.toDataURL(\"image/png\")\n            setImgURL3(urlStr3);\n        };\n\n        setlinkFlag(true)\n\n        //console.log(\"linkFlag :\")\n        //console.log(linkFlag)\n        //console.log(\"handleSave end\")\n    }\n\n    return(\n        \n        <div align='a_bg'>\n            <div className=\"a_content\">\n                <h2 align='center' style={{marginTop: \"10px\"}}>과천 푸르지오 라비엔오 <br></br> 입주예정자 협의회 <br></br>\n                    동의서 및 위임장 작성</h2>\n                이름 : <input type=\"text\"\n                        name=\"name\"\n                        placeholder=\"이름\"\n                        onChange={onChangeUsername}\n                />\n                <br></br>\n                생년월일 : <input type=\"text\"\n                        name=\"birthday\"\n                        placeholder=\"생년/월/일\"\n                        onChange={onChangeBirthday}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                &nbsp; &nbsp; 동 : <input type=\"text\"\n                        name=\"dong\"\n                        placeholder=\"동\"\n                        onChange={onChangeDong}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                호수 : <input type=\"text\"\n                        name=\"hosu\"\n                        placeholder=\"호수\"\n                        onChange={onChangeHosu}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                전화번호 : <input type=\"text\"\n                        name=\"phonenum\"\n                        placeholder=\"전화번호\"\n                        onChange={onChangePhonenum}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                카페 닉네임 : <input type=\"text\"\n                        name=\"nickname\"\n                        placeholder=\"카페 닉네임\"\n                        onChange={onChangeNickname}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                이메일 주소 : <input type=\"text\"\n                        name=\"email\"\n                        placeholder=\"이메일 주소\"\n                        onChange={onChangeEmail}\n                        style={{marginTop: \"10px\"}}\n                />\n                <br></br>\n                <div align='center' style={{marginTop: \"15px\"}}>\n                서명 : <br></br>\n                </div>\n                <div  style={{\n                    width: \"315px\",\n                    height: \"150px\",\n                    border: \"1px solid #272727\"\n                    }}>\n                <CanvasDraw\n                    ref={canvasDrawRef}\n                    hideInterface \n                    hideGrid\n                    background={\"none\"}\n                    brushColor={\"#000000\"}\n                    brushRadius={1}\n                    lazyRadius={2}\n                    canvasWidth={315}\n                    canvasHeight={150}\n                />\n                <button onClick={handleSave} style={{marginTop: \"3px\"}}>\n                    완료\n                </button>\n                &nbsp;&nbsp;\n                <button\n                    onClick={() => {\n                        canvasDrawRef.current.clear();\n                    }}\n                    style={{marginTop: \"3px\"}}\n                >\n                    삭제\n                </button>\n                &nbsp;&nbsp;\n                <button\n                    onClick={() => {\n                        canvasDrawRef.current.undo();\n                    }}\n                    style={{marginTop: \"3px\"}}\n                >\n                    Undo\n                </button>\n\n                <br></br>\n                <br></br>\n\n                    <div align='center' style={{ display: linkFlag === true ? 'block': 'none'}}>\n                        <a href=\"\" id=\"agree_down1\" download='동의서.png'> 동의서 다운로드 </a>\n                        &nbsp;&nbsp;\n                        <a href=\"\" id=\"agree_down2\" download='위임장.png'> 위임장 다운로드 </a>\n                    </div>\n                    <br></br>\n                    <div width='315px' height='100px'>\n\n                    </div>\n                    제공 : 아침향기, ver 0.0.2\n                </div> {/* for canvasdraw */}\n            </div> {/* a_content */}\n        <br></br>\n        <br></br>\n\n        <canvas ref={canvasRef2} width={1200} height={1694} style={{display: 'none'}}/>\n        <canvas ref={canvasRef3} width={1200} height={1694} style={{display: 'none'}}/>\n\n        {/*\n        <div style={{\n            visibility: \"hidden\"\n            }}> \n        <img src=\"\" id={\"agree_img\"}/>\n        </div>\n        */}\n        </div>\n    );\n};\n\nexport default Agree;"]},"metadata":{},"sourceType":"module"}